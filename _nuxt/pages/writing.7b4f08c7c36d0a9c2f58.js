webpackJsonp([6],{CvD1:function(t,e,i){var a=i("mRZb");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("43d98216",a,!1,{sourceMap:!1})},FMDO:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("s5Mm"),s=i("QWan"),r=!1;var c=function(t){r||i("CvD1")},o=i("VU/8")(a.a,s.a,!1,c,"data-v-48eac273",null);o.options.__file="pages/writing.vue",e.default=o.exports},QWan:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("article",[i("section",{staticClass:"view-section"},[i("div",{staticClass:"article-breadcrumb"},[i("Row",[i("i-col",{attrs:{span:"8"}},[i("Breadcrumb",t._l(t.breadcrumb,function(e,a){return i("BreadcrumbItem",{key:a,attrs:{to:e.path}},[i("Icon",{attrs:{type:e.icon}}),t._v("\n                            "+t._s(e.name)+"\n                        ")],1)}),1)],1),i("i-col",{attrs:{span:"8",offset:"8"}},[i("div",{staticClass:"article-tips"},[i("div",{staticClass:"tips-item"},[i("span",[t._v("字数:")]),i("strong",[t._v(t._s(t.articleItem.post_content.length||0))])]),t.articleItem.editor_number?i("div",{staticClass:"tips-item"},[i("span",{staticStyle:{"margin-left":"10px"}},[t._v("编辑次数:")]),i("strong",[t._v(t._s(t.articleItem.editor_number||0))])]):t._e()])])],1)],1),i("div",{staticClass:"article-actions"},[i("Row",[i("Button",{staticClass:"m-right-5",attrs:{type:"primary"},on:{click:t.commitArticle}},[t._v("发表文章")]),i("Button",{attrs:{type:"ghost"},on:{click:t.saveArticle}},[t._v("保存文章")])],1)],1),i("div",{staticClass:"article-title"},[i("Row",[i("i-col",{attrs:{span:"24"}},[i("Input",{attrs:{size:"large",v:"",placeholder:"标题"},model:{value:t.articleItem.post_title,callback:function(e){t.$set(t.articleItem,"post_title",e)},expression:"articleItem.post_title"}})],1)],1)],1),i("mavon-editor",{staticClass:"article-editor",staticStyle:{height:"100%"},model:{value:t.articleItem.post_content,callback:function(e){t.$set(t.articleItem,"post_content",e)},expression:"articleItem.post_content"}})],1)])};a._withStripped=!0;var s={render:a,staticRenderFns:[]};e.a=s},mRZb:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,".article-breadcrumb[data-v-48eac273]{padding:20px 0;line-height:30px;border-bottom:1px solid #e9eaec}.article-tips[data-v-48eac273]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.article-tips strong[data-v-48eac273]{font-size:18px}.article-actions[data-v-48eac273],.article-editor[data-v-48eac273],.article-title[data-v-48eac273]{margin-top:20px}",""])},s5Mm:function(t,e,i){"use strict";e.a={name:"v-article",components:{},data:function(){return{articleItem:{post_title:"",post_content:""},msg:"Hello world article VueJS",breadcrumb:[{path:"/settings",icon:"settings",name:"设置"},{path:"/settings/articles",icon:"clipboard",name:"文章管理"},{path:"",icon:this.$route.query.id?"compose":"edit",name:this.$route.query.id?"编辑文章":"新建文章"}]}},created:function(){var t=this.$route.query.id;t&&this.getArticleAPI(t)},mounted:function(){},methods:{saveArticle:function(){console.info("手动保存文章")},getArticleAPI:function(t){var e=this;this.$ajax.get("/api/getArticle",{params:{id:t}}).then(function(t){console.info(t),0===t.errorCode&&(e.articleItem=t.data)}).catch(function(t){console.info(t)})},commitArticle:function(){var t=this;this.$ajax.post("/api/publishArticle",this.articleItem).then(function(e){0===e.errorCode?(t.$Message.success(e.msg||"发表成功"),t.$router.push("/settings/articles")):t.$Message.error(e.msg||"errorCode大于0，发表失败")}).catch(function(e){console.info(e),t.$Message.error(e||"errorCode大于0，发表失败")})}}}}});